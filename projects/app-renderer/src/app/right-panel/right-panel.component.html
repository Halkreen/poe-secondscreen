<mat-card class="card" *ngIf="!noData">
  <mat-card-content class="center">
    <mat-card-title class="card-title">Current Level</mat-card-title>
    <div class="separator"></div>
    <mat-progress-spinner
      class="example-margin"
      color="accent"
      mode="determinate"
      [value]="level"
    >
    </mat-progress-spinner>
    <h2 class="spinner-content">{{ level }}</h2>
  </mat-card-content>
</mat-card>
<div *ngIf="!noData">
  <ng-template
    let-notable
    [ngTemplateOutletContext]="{ $implicit: notable$ | async }"
    [ngTemplateOutlet]="notableSection"
    #notableSection
  >
    <div
      *ngIf="notable?.isKeystone"
      class="passive-icon-container passive-icon-type__keystone"
    >
      <div class="passive-icon-frame"></div>
      <a href="#" title="{{ notable.name }}"
        ><img
          alt="{{ notable.name }}"
          src="{{ notable?.imgLink }}"
          decoding="async"
          width="128"
          height="128"
      /></a>
    </div>

    <div
      *ngIf="!notable?.isKeystone"
      class="passive-icon-container passive-icon-type__notable"
    >
      <div class="passive-icon-frame"></div>
      <a *ngIf="notable?.imgLink" href="#" title="{{ notable.name }}"
        ><img
          alt="{{ notable.name }}"
          src="{{ notable?.imgLink }}"
          decoding="async"
          width="128"
          height="128"
      /></a>
    </div>

    <p class="nextNotable">
      Next {{ notable?.isKeystone ? "keystone" : "notable passive" }}:
      <br /><strong>{{ notable?.name }}</strong>
    </p>
  </ng-template>
</div>
<button
  mat-flat-button
  color="accent"
  class="import-button"
  (click)="openDialog()"
>
  New leveling
</button>
<div class="credits" *ngIf="!noData">
  <!-- Icons made by Freepik from www.flaticon.com -->
  <code class="shortcut-code">Ctrl+Alt+L</code> - Level up<br /><br />
  <code class="shortcut-code">Ctrl+Alt+P</code> - Next notable passive
</div>
